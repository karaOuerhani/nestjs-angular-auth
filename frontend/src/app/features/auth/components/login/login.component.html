<div class="login-container">
  <div class="login-title">Connexion</div>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group">
      <label for="email">Email</label>
      <input
        pInputText
        id="email"
        type="email"
        formControlName="email"
        autocomplete="username"
        placeholder="votre@email.com" />
      <div *ngIf="submitted && f['email'].errors" class="error-message">
        <span *ngIf="f['email'].errors['required']">Email requis.</span>
        <span *ngIf="f['email'].errors['email']">Format email invalide.</span>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input
        pInputText
        id="password"
        type="password"
        formControlName="password"
        autocomplete="current-password"
        placeholder="Votre mot de passe" />
      <div *ngIf="submitted && f['password'].errors" class="error-message">
        <span *ngIf="f['password'].errors['required']">Mot de passe requis.</span>
      </div>
    </div>
    <div *ngIf="error" class="error-message">{{ error }}</div>
    <p-button
      type="submit"
      label="Se connecter"
      [loading]="loading"
      [disabled]="loginForm.invalid"
      styleClass="w-full">
    </p-button>
  </form>
  <div class="register-link">
    <p>Pas encore de compte ? <a routerLink="/auth/register">S'inscrire</a></p>
  </div>
</div>
<p-toast></p-toast>
